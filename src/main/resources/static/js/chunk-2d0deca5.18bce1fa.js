(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0deca5"],{"86c4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-contact-list",{attrs:{"add-text":"新建收货地址",list:e.list,"default-tag-text":"默认"},on:{add:e.onAdd,edit:e.onEdit},model:{value:e.chosenContactId,callback:function(t){e.chosenContactId=t},expression:"chosenContactId"}}),a("van-popup",{staticStyle:{height:"30%"},attrs:{closeable:"",position:"bottom"},model:{value:e.showAdd,callback:function(t){e.showAdd=t},expression:"showAdd"}},[a("div",{staticStyle:{margin:"10px",padding:"10px","font-weight":"bold"}},[e._v(" 添加收货地址 ")]),a("div",{staticStyle:{margin:"auto"}},[a("van-field",{attrs:{label:"新地址",placeholder:"请输入新地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("van-cell",{attrs:{center:"",title:"是否设为默认地址？"},scopedSlots:e._u([{key:"right-icon",fn:function(){return[a("van-switch",{attrs:{size:"24"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})]},proxy:!0}])}),a("div",{staticStyle:{"text-align":"center"}},[a("van-button",{staticStyle:{width:"90%"},attrs:{round:"",type:"info"},on:{click:e.addAddress}},[e._v("增加地址")])],1)],1)]),a("van-popup",{staticStyle:{height:"40%"},attrs:{closeable:"",position:"bottom"},model:{value:e.showUpdate,callback:function(t){e.showUpdate=t},expression:"showUpdate"}},[a("div",{staticStyle:{margin:"10px",padding:"10px","font-weight":"bold"}},[e._v(" 修改收货地址 ")]),a("div",{staticStyle:{margin:"auto"}},[a("van-field",{attrs:{label:"新地址",placeholder:"请输入新地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("van-cell",{attrs:{center:"",title:"是否设为默认地址？"},scopedSlots:e._u([{key:"right-icon",fn:function(){return[a("van-switch",{attrs:{size:"24"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})]},proxy:!0}])}),a("div",{staticStyle:{"text-align":"center"}},[a("van-button",{staticStyle:{width:"90%"},attrs:{round:"",type:"info"},on:{click:e.updateAddress}},[e._v("修改地址")]),a("div",{staticStyle:{height:"10px"}}),a("van-button",{staticStyle:{width:"90%"},attrs:{round:"",type:"danger"},on:{click:e.deleteAddress}},[e._v("删除地址")])],1)],1)])],1)},s=[],d=a("1da1"),r=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("a9e3"),a("b0c0"),a("d399")),c={created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,s,d,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.e("chunk-4a8a29de").then(a.bind(null,"31ca"));case 2:return n=t.sent,s=n.$,t.next=6,s.get("/address");case 6:if(d=t.sent,0!==d.data.information.length)for(r=0;r<d.data.information.length;r++)c={id:d.data.information[r].receiveAddressId,name:d.data.information[r].addressDetails,tel:"",isDefault:d.data.information[r].isDefault},e.list.push(c);case 8:case"end":return t.stop()}}),t)})))()},name:"AddressManage",data:function(){return{aid:Number,checked:!1,address:"",chosenContactId:"1",list:[],showAdd:!1,showUpdate:!1}},methods:{reload:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,s,d,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checked=!1,e.address="",e.chosenContactId="1",e.list=[],e.showAdd=!1,e.showUpdate=!1,t.next=8,a.e("chunk-4a8a29de").then(a.bind(null,"31ca"));case 8:return n=t.sent,s=n.$,t.next=12,s.get("/address");case 12:if(d=t.sent,0!==d.data.information.length)for(r=0;r<d.data.information.length;r++)c={id:d.data.information[r].receiveAddressId,name:d.data.information[r].addressDetails,tel:"",isDefault:d.data.information[r].isDefault},e.list.push(c);case 14:case"end":return t.stop()}}),t)})))()},onAdd:function(){this.address="",this.checked=!1,this.showAdd=!0},onEdit:function(e){this.aid=e.id,this.address=e.name,this.checked=e.isDefault,this.showUpdate=!0},updateAddress:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,s,d,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.e("chunk-4a8a29de").then(a.bind(null,"31ca"));case 2:return n=t.sent,s=n.$,d={addressDetails:e.address,isDefault:e.checked,receiveAddressId:e.aid},t.next=7,s.put("/address",d);case 7:c=t.sent,c.data.success?(Object(r["a"])("修改成功"),e.reload()):Object(r["a"])("修改失败");case 9:case"end":return t.stop()}}),t)})))()},deleteAddress:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,s,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.e("chunk-4a8a29de").then(a.bind(null,"31ca"));case 2:return n=t.sent,s=n.$,t.next=6,s.delete("/address?receiveAddressId=".concat(e.aid));case 6:d=t.sent,d.data.success?(Object(r["a"])("删除成功"),e.reload()):Object(r["a"])("删除成功");case 8:case"end":return t.stop()}}),t)})))()},addAddress:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,s,d,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.e("chunk-4a8a29de").then(a.bind(null,"31ca"));case 2:return n=t.sent,s=n.$,d={addressDetails:e.address,isDefault:e.checked},t.next=7,s.post("/address",d);case 7:c=t.sent,c.data.success?(Object(r["a"])("创建成功"),e.reload()):Object(r["a"])("创建失败");case 9:case"end":return t.stop()}}),t)})))()}}},i=c,o=a("2877"),l=Object(o["a"])(i,n,s,!1,null,"118e003a",null);t["default"]=l.exports}}]);