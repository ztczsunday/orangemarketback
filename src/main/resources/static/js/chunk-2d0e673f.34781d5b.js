(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e673f"],{"998a":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("VanCard",{staticStyle:{"font-size":"15px"},attrs:{desc:e.shopDetails.shopDescription,thumb:e.shopDetails.shopIcon,title:e.shopDetails.shopName},scopedSlots:e._u([{key:"footer",fn:function(){return[n("van-button",{attrs:{type:e.favoriteStyle,size:"mini"},on:{click:e.doFavorite}},[e._v(e._s(e.favoriteInfo))])]},proxy:!0}])}),n("VanTabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("VanTab",{attrs:{title:"上架商品"}},[n("VanList",{attrs:{finished:e.commodityOpen.finished,"finished-text":"没有更多了"},on:{load:e.onLoadCommodityOpen},model:{value:e.commodityOpen.loading,callback:function(t){e.$set(e.commodityOpen,"loading",t)},expression:"commodityOpen.loading"}},e._l(e.commodityOpen.items,(function(t,o){return n("VanCard",{key:o,attrs:{price:e.computePrice(t["lowestPrice"]),thumb:t.mainIcon,title:t.commodityName},on:{click:function(n){return e.$router.push("/?cid="+t.cid)}}})})),1)],1),n("VanTab",{attrs:{title:"已下架商品"}},[n("VanList",{attrs:{finished:e.commodityClose.finished,"finished-text":"没有更多了"},on:{load:e.onLoadCommodityClose},model:{value:e.commodityClose.loading,callback:function(t){e.$set(e.commodityClose,"loading",t)},expression:"commodityClose.loading"}},e._l(e.commodityClose.items,(function(t,o){return n("VanCard",{key:o,attrs:{price:e.computePrice(t["lowestPrice"]),thumb:t.shopIcon,title:t.shopName},on:{click:function(n){return e.$router.push("/?sid="+t.cid)}}})})),1)],1)],1)],1)},i=[],a=n("1da1"),r=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),{name:"Shop",created:function(){this.onLoadShopDetail()},data:function(){return{active:null,shopDetails:{},isCollected:!1,commodityOpen:{loading:null,finished:!1,nowPage:0,pageSize:10,items:[]},commodityClose:{loading:null,finished:!1,nowPage:0,pageSize:10,items:[]}}},computed:{favoriteInfo:function(){return this.isCollected?"已收藏":"收藏"},favoriteStyle:function(){return this.isCollected?"warning":"default"}},methods:{computePrice:function(e){return e%1!==0?e:e+".00"},onLoadShopDetail:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.e("chunk-4a8a29de").then(n.bind(null,"31ca"));case 2:return o=t.sent,i=o.$,t.next=6,i.get("/shop/visit",{params:{sid:e.$route.query.sid}});case 6:a=t.sent,e.shopDetails=a.data.information.shopDetails,e.isCollected=a.data.information.isCollected;case 9:case"end":return t.stop()}}),t)})))()},onLoadCommodityOpen:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.e("chunk-4a8a29de").then(n.bind(null,"31ca"));case 2:return o=t.sent,i=o.$,t.next=6,i.get("/shop/visit/open",{params:{sid:e.$route.query.sid,page:e.commodityOpen.nowPage,pageSize:e.commodityOpen.pageSize}});case 6:a=t.sent,r=a.data.information,Array.prototype.push.apply(e.commodityOpen.items,r.records),e.commodityOpen.nowPage++,e.commodityOpen.finished=e.commodityOpen.nowPage>=r.total/r.size;case 11:case"end":return t.stop()}}),t)})))()},onLoadCommodityClose:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.e("chunk-4a8a29de").then(n.bind(null,"31ca"));case 2:return o=t.sent,i=o.$,t.next=6,i.get("/shop/visit/close",{params:{sid:e.$route.query.sid,page:e.commodityClose.nowPage,pageSize:e.commodityClose.pageSize}});case 6:a=t.sent,r=a.data.information,Array.prototype.push.apply(e.commodityClose.items,r.records),e.commodityClose.nowPage++,e.commodityClose.finished=e.commodityClose.nowPage>=r.total/r.size;case 11:case"end":return t.stop()}}),t)})))()},doFavorite:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.e("chunk-4a8a29de").then(n.bind(null,"31ca"));case 2:if(o=t.sent,i=o.$,e.isCollected){t.next=12;break}return r=new FormData,r.append("sid",e.$route.query.sid),t.next=9,i.post("/favoritesShop",r);case 9:a=t.sent,t.next=15;break;case 12:return t.next=14,i.delete("/favoritesShop",{params:{sid:e.$route.query.sid}});case 14:a=t.sent;case 15:!0===a.data.success&&(e.isCollected=!e.isCollected);case 16:case"end":return t.stop()}}),t)})))()}}}),s=r,c=n("2877"),d=Object(c["a"])(s,o,i,!1,null,"481ed72a",null);t["default"]=d.exports}}]);